---
title: "Liferayの基礎を理解する (TBD)"
free: false
---

# はじめに
Liferayでは常に新しい機能が追加され、便利になっていますが、その基本的な機能に関してはこの10年ほど変更はありません。

このドキュメントでは、そうしたLiferayの根幹をなす機能・仕組みと、その**メンタルモデルを理解して、新機能が追加されても、その意図や利用方法が思い浮かべられるように、説明していきます。**

## なぜメンタルモデルという手法をとるのか？
Liferayのアップデートや新機能追加のスピードは速く（いいことなのですが）、[本家のドキュメント](https://learn.liferay.com/)ですら、最新版に追いつけていない現状があります。

そのため具体的な機能に注目して説明すると、あっという間にドキュメントが陳腐化してしまうのです。

メンタルモデルを作る上で重要なのが
- ユーザー
- サイト
- ロール (ユーザーグループ)

の3つになります。それを理解した上に、
- サイトとコンテンツ(Webコンテンツ、ドキュメント＆メディア)の関係
- サイトとページの関係性
- テンプレートの活用 (ページ表示テンプレート、フラグメントなど)

を理解することで、Liferayを利用する時に必ず使うと言っていいユースケースの80%はカバーできるはずです。
## 全体図
![関連図](/images/chapter3/component_relations.png)
まずはこの全体図にある要素と関連性を理解しましょう。

### ユーザー
ユーザーはLiferayにログインするためのアカウント。各ユーザーは、名前やメールアドレスなどの基本情報を持っています。

### ロール
ユーザーに特定の権限やタスクを割り当てるための、権限をグループ化したものです。

|ロール名 | 説明 |
|:--|:--|
|標準ロール|システム全体での権限を持つロール。例：管理者。|
|サイトロール|特定のサイト内での権限を持つロール。
|組織ロール|特定の組織内での権限を持つロール。
|チーム|サイト内の特定の部分に対する権限を持つグループ。サイトロールと似ていますが、より限定的な範囲で使用されます。
|アカウント| 企業や組織のアカウントを表すもの。サプライヤーポータルなどで、サプライヤーさんにその下のベンダーさんのユーザー管理権限などのみを渡す、といったような用途で使用されることが多いです。|

### ユーザーグループ
ユーザーをグループ化するためのもの。特定のロールや権限を一度に多くのユーザーに割り当てることができます。

### サイト
Liferay内でコンテンツを公開するためのウェブページの集合。

|サイト名 | 説明 |
|:--|:--|
|サイト| 一般的なウェブサイトを表すもの。ニュースサイトやブログなど。|
|組織サイト| 特定の組織や部門専用のサイト。|

## ユーザー、ロール、サイト、ユーザーグループの関連性:

- ユーザーは複数のロールを持つことができます。これにより、ユーザーはシステム内での様々なタスクや権限を持つことができます。
- サイトや組織サイトは、特定のロールを持つユーザーにのみアクセスを許可することができます。
ユーザーグループを使用すると、多くのユーザーに一度に同じロールや権限を割り当てることができます。

# サイト
Liferayにおいて、1つのLiferayの上に、複数の（実例では1000サイト程度を本番で利用しているケースもある）サイトを作成できます。それらを適切な権限を用いて、ユーザー、コンテンツの制御（検索も含めて）ができる点が、業界問わず、世界中のポータル、社内システムで使われる大きな強みとなっています。

Liferayおけるサイトは、コンテンツのグルーピングの範囲を意識する必要があります。コンテンツグルーピングの単位としては以下があります。
|方法 | ユースケース|
|:--|:--|
|サイト単位でのコンテンツ管理|サイトの区分と、コンテンツの区分の境界が同じ場合。例えば全社ポータル、日本支社ポータルなどを分けて、それぞれのサイト内部でコンテンツを管理するのでかまわない場合。|
|アセットライブラリ単位でのコンテンツ管理|サイトの区分と、コンテンツの区分の境界が異なる場合。例えば全社向け通達を、全サイトで共有したい、というようなケース。全社向け通達をアセットライブラリで作成し、各サイトで全社向け通達アセットライブラリの閲覧権限を持たせる、など。|

## ページの種類
### コンテンツページ
### ウィジェットページ
## フラグメント
## テンプレート
### ウィジェットテンプレート
### ページテンプレート
### ディスプレイページテンプレート
### サイトテンプレート
## 見栄えの変更
### スタイルブック
### テーマ
# バーチャルインスタンス
# カンパニー
# ロール・パーミッション
## 標準ロール
## サイトロール
### チーム
## 組織ロール
## User Group